<div class="main">
  <div class="category-card">
    <div class="card-content">
      <div class="card-header">
        <div class="hr-wrap-top"><hr></div>
        <div class="logo-m heder-logo"></div>
        <div class="hr-wrap-top"><hr></div>
      </div>
      <form #itemForm="ngForm" class="card-body" >
        <div class="ingredients" *ngIf="ingredients && ingredients.length!==0" >
          <div class="ingredient" *ngFor="let i of ingredients">
            <div class="ing-spot splash" [ngStyle]="{'background-image': 'url('+i.ingClass+')'}"></div>
            <span class="ing-name">{{i.ing}}</span>
            <fa-icon (click)="remIng(i)" *ngIf="i.ing.length" class="fas fa-times edit remIng" [icon]="['fas', 'times']"  aria-pressed="true"></fa-icon>
          </div>
          <div class="ingredient" style="justify-content: space-around;">
            <span *ngIf="!addEngWindow" class="edit addIngBut" (click)="showAddEngWindow()">+ Add new ingredient</span>
            <span *ngIf="addEngWindow" class="edit addIngBut" (click)="showAddEngWindow()">- Hide ingredient form</span>
          </div>
          <div  class="ingredient newIng" *ngIf="addEngWindow">
            <div class="ing-spot splash"[ngStyle]="{'background-image': 'url('+visualIng.url+')'}">
              <input accept=".png,.jpg,.jpeg" style="width: 0%;visibility: hidden" class="hover-text" id="chooseFile3" type='file' (change)="onSelectFile($event, selectedFileIng, visualIng)">
              <label for="chooseFile3" > <fa-icon class="add-ing-img" size="2x" [icon]="['fas', 'images']" style="display:flex;"></fa-icon></label>
            </div>

            <textarea class="textIng" maxlength="10" type="text" [(ngModel)]="ingNewName" [ngModelOptions]="{standalone: true}" required rows="1" cols="1"></textarea>
            <fa-icon (click)="addNewIng()" class="fas fa-check edit addAllIng" [icon]="['fas', 'check']"  aria-pressed="true"></fa-icon>
            <fa-icon *ngIf="ingNewName.length" (click)="remNewIng()" class="fas fa-times edit undoIng" [icon]="['fas', 'times']"  aria-pressed="true"></fa-icon>

          </div>
        </div>
        <div class="nutr chooseNutr" [ngStyle]="{'background-image': 'url('+nutrValue.url+')'}">
          <input accept=".png,.jpg,.jpeg" style="visibility: hidden" class="hover-text" id="chooseFile" type='file' (change)="onSelectFile($event, selectedFileNutr, nutrValue)">
          <label for="chooseFile" class="hover-text"> <fa-icon size="4x" [icon]="['fas', 'images']" style="filter: drop-shadow(2px 4px 6px black);"></fa-icon></label>
        </div>

        <div class="col">
          <div class="cup chooseCup" [ngStyle]="{'background-image': 'url('+visualValue.url+')'}">
            <input accept=".png,.jpg,.jpeg" style="visibility: hidden" class="hover-text" id="chooseFile2" type='file' (change)="onSelectFile($event, selectedFileNutr, visualValue)">
            <label for="chooseFile2" class="hover-text"> <fa-icon size="4x" [icon]="['fas', 'images']" style="filter: drop-shadow(2px 4px 6px black);"></fa-icon></label>
          </div>

        </div>
        <div class="col">
          <div class="price">
            <input placeholder="0" class="numb" [(ngModel)]="price" name="price">
            <div class="only-shek">
              <span class="only">only</span>
              <div class="shek"></div>
            </div>
          </div>
          <div class="description">
            <textarea placeholder="Title" class="item-title" style="resize: none" [(ngModel)]="title" name="title" rows="1" cols="1"></textarea>
            <textarea placeholder="Description.." class="item-desc" style="resize: none" [(ngModel)]="desc" name="desc" rows="4" cols="50"></textarea>
          </div>
          <div class="btns-wrap">
            <button class="orangebtn" (click)="addItem(itemForm)">
              <fa-icon class="fas fa-2x fa-check btn2 active" [icon]="['fas', 'check']" style="color: white;margin-left: 5%"  aria-pressed="true"></fa-icon>
              <span class="bnttext">Add item</span>
            </button>
            <button class="edit"  (click)="undo()">
              <fa-icon class="fas fa-undo fa-2x" [icon]="['fas', 'undo']"  aria-pressed="true"></fa-icon>
            </button>
          </div>

        </div>

      </form>
      <div class="card-footer">
        <hr>
      </div>
    </div>
  </div>

</div>
<div class="main2">
  <div  *ngIf="!ings && !nutrs" class="cup" [ngStyle]="{'background-image': 'url('+visualValue+')'}">
    <div class="row1">
      <fa-icon class="fas fa-3x fa-chevron-left active goback" [icon]="['fas', 'chevron-left']" (click)="goBack()"></fa-icon>
      <div class="price">
        <input class="numb" [(ngModel)]="price" name="price" style="margin: 0">
        <div class="only-shek">
          <span class="only">only</span>
          <div class="shek"></div>
        </div>
      </div>
    </div>
    <div class="row2">
      <textarea class="item-title" style="resize: none;height: auto"  [(ngModel)]="title" name="title" rows="1" cols="1"></textarea>
    </div>
    <div class="row3">
      <div class="subcol">
        <button class="orangebtn graybtn">
          <fa-icon class="fas fa-2x fa-list-ul btn2 active"  (click)="goIngs()" [icon]="['fas', 'list-ul']" style="margin-left: 5%" aria-pressed="true"></fa-icon>
        </button>
        <button class="orangebtn graybtn">
          <fa-icon class="fas fa-2x fa-heartbeat btn2 active" (click)="goNutrs()" [icon]="['fas', 'heartbeat']" style="margin-left: 5%" aria-pressed="true"></fa-icon>
        </button>
      </div>
      <div class="subcol">
        <button class="edit" (click)="undo()">
          <fa-icon class="fas fa-undo fa-2x" [icon]="['fas', 'undo']"  aria-pressed="true"></fa-icon>
        </button>
        <button class="edit" (click)="addItem(itemForm)" [disabled]="ingNewName.length">
          <fa-icon class="fas fa-check fa-2x" [icon]="['fas', 'check']"  aria-pressed="true"></fa-icon>
        </button>
      </div>
    </div>
  </div>
  <div *ngIf="ings" class="ingredients-wrap">
    <fa-icon class="fas fa-3x fa-chevron-left active goback" [icon]="['fas', 'chevron-left']" (click)="goIngs()"></fa-icon>
    <div class="ingredient"  style="justify-content: space-around;">
      <span *ngIf="!addEngWindow" class="edit addIngBut" (click)="showAddEngWindow()">+ Add new ingredient</span>
      <span *ngIf="addEngWindow" class="edit addIngBut" (click)="showAddEngWindow()">- Hide ingredient form</span>    </div>
    <div  class="ingredient newIng" *ngIf="addEngWindow" style="width: 90%; margin-left: 5%">
      <div class="ing-spot splash"[ngStyle]="{'background-image': 'url('+visualIng.url+')'}">
        <input style="width: 0%;visibility: hidden" class="hover-text" id="chooseFile4" type='file' (change)="onSelectFile($event, selectedFileIng, visualIng)">
        <label for="chooseFile4" > <fa-icon class="add-ing-img" size="2x" [icon]="['fas', 'images']" style="display:flex;"></fa-icon></label>
      </div>

      <textarea class="textIng" maxlength="10" type="text" [(ngModel)]="ingNewName" [ngModelOptions]="{standalone: true}" required rows="1" cols="1"></textarea>
      <fa-icon (click)="addNewIng()" class="fas fa-check edit addAllIng" [icon]="['fas', 'check']"  aria-pressed="true"></fa-icon>
      <fa-icon (click)="remNewIng()" class="fas fa-times edit undoIng" [icon]="['fas', 'times']"  aria-pressed="true"></fa-icon>

    </div>

    <div class="ingredient" *ngFor="let i of ingredients">
      <div class="ing-spot splash" [ngStyle]="{'background-image': 'url('+i.ingClass+')'}"></div>
      <span class="ing-name">{{i.ing}}</span>
      <fa-icon *ngIf="i.ing.length" (click)="remIng(i)"  class="fas fa-times edit remIng" [icon]="['fas', 'times']"  aria-pressed="true"></fa-icon>

    </div>
  </div>
  <div class="nutr chooseNutr" style="height: 100%;width: 100%" [ngStyle]="{'background-image': 'url('+nutrValue.url+')'}" *ngIf="nutrs">
    <fa-icon class="fas fa-3x fa-chevron-left active goback" [icon]="['fas', 'chevron-left']" (click)="goNutrs()"></fa-icon>

    <input accept=".png,.jpg,.jpeg"  style="visibility: hidden" class="hover-text" id="chooseFile5" type='file' (change)="onSelectFile($event, selectedFileNutr, nutrValue)">
    <label for="chooseFile5" class="hover-text" style="left: 0"> <fa-icon size="4x" [icon]="['fas', 'images']" style="filter: drop-shadow(2px 4px 6px black);"></fa-icon></label>
  </div>
</div>
